@using ApotekaShop.Web.Helpers
@model ApotekaShop.Web.Models.OrderViewModel

@{
    ViewBag.Title = "Orders";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h1>Orders</h1>
    @using (Html.BeginForm("Details", "Order", FormMethod.Post))
    {
        if (Model.OrderItems.Any())
        {
            for (var i = 0; i < Model.OrderItems.Count(); i++)
            {
                <div class="row">
                    @Html.HiddenFor(model => model.OrderItems[i].Id)
                    @Html.HiddenFor(model => model.OrderItems[i].Name)
                    @Html.HiddenFor(model => model.OrderItems[i].PricePerUnit)
                    
                    <div class="col-md-6">
                        <div class="caption"> 
                            <a href="@Url.Action("Details", "ProductDetails", new {id = Model.OrderItems[i].Id})">
                                <h3>@Model.OrderItems[i].Name</h3>
                            </a>
                        </div>
                    </div>
                    <div class="col-md-2">
                        <div class="pull-right" style="vertical-align:middle">@Html.Currency(Model.OrderItems[i].PricePerUnit) *</div>
                    </div>
                    <div class="col-md-2">
                        <div class=" input-group">
                            <span class="input-group-btn">
                                <button class="btn btn-default" type="button">-</button>
                            </span>
                            @Html.TextBoxFor(model => model.OrderItems[i].Count, new {@class = "form-control", type = "number", onchange = "this.form.submit();"})
                            <span class="input-group-btn">
                                <button class="btn btn-default" type="button">+</button>
                            </span>
                        </div>
                    </div>
                    <div class="col-md-2">
                        @Html.Currency(Model.OrderItems[i].PricePerUnit * Model.OrderItems[i].Count)
                    </div>
                </div>
            }
        }
    }
<div class="row" style="background: #cce9d7; padding: 10px 0;">
    <div class="col-md-10"><b class="pull-right">Total:</b>
    </div>
    <div class="col-md-2 pull-right"><b>DKK 255</b>
    </div>
</div>

@section Scripts
{
<script>
        OrderModule.initializeAddToOrderButtons();
</script>
}